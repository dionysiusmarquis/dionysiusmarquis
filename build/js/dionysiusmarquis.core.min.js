"undefined"==typeof dm&&(dm=new Object),dm.Event=function(e,t,n){this.target=null,this.currentTarget=null,this.type=e,this.data=t,this.bubble=n,this.isBubbling=!1,this.getType=function(){return this.type},this.getdata=function(){return this.data},this.getBubble=function(){return this.bubble}},dm.EventTarget=function(){var e=new Object,t=new Object,n=new Object;this.addEventListener=function(i,r,s,l){e[i]||(e[i]=new Array,t[i]=new Array,n[i]=new Array),(0==e.length||-1==e[i].indexOf(r))&&(e[i].push(r),t[i].push(l),n[i].push(s))},this.removeEventListener=function(n,i){if(e[n]){var r=e[n].indexOf(i);-1!=r&&(e[n].splice(r,1),t[n].splice(r,1))}},this.hasEventListener=function(t,n){return e.length>0&&e[t]&&-1!=e[t].indexOf(n)},this.dispatchEvent=function(i){if(i&&(!i||i.type&&""!=i.type)){if(i.isBubbling||(i.currentTarget=this),i.target=this,e[i.type]&&e[i.type].length>0){var r,s,l,a,o,h,c=e[i.type];for(r=0;r<c.length;r++){if(l=t[i.type][r],o=n[i.type][r],l)if(i.data)for(a=Object.keys(l),s=0;s<a.length;s++)h=a[s],i.data[h]=l[h];else i.data=l;c[r].call(o||this,i)}}i.bubble&&this.parent&&this.parent.isEventDispatcher&&(i.isBubbling=!0,this.parent.dispatchEvent(i))}},this.isEventDispatcher=!0},dm.HTMLElement=function(e,t,n,i){function r(){"undefined"!=typeof document.body.style.transition?c.element.addEventListener("transitionend",s):"undefined"!=typeof document.body.style.WebkitTransition?c.element.addEventListener("webkitTransitionEnd",s):"undefined"!=typeof document.body.style.MozTransition?c.element.addEventListener("transitionend",transitionEndEventHandler):"undefined"!=typeof document.body.style.OTransition&&c.element.addEventListener("oTransitionEnd",s)}function s(e){if(e.target==c.element){var t=c.getTransition(e.propertyName);if(c.transitions[1]){var n=c.transitions[1][e.propertyName];n&&(delete c.transitions[1][e.propertyName],c.updateTransitionString())}t&&t[1]&&t[1].call(t[2]||c),c.dispatchEvent(new dm.Event("transitionend",e))}}function l(e){var t=document.isFullscreen||document.mozIsFillScreen||document.webkitIsFullScreen;c.isFullscreen=t,c.dispatchEvent(new dm.Event("fullscreenchange",{isFullscreen:t}))}function a(e,t){var n=c.ATTRIBUTE_REGEX;if(n.test(e)&&(e=e.replace(n,function(e,t){return t.toUpperCase()})),"undefined"!=typeof document.body.style[e]){if(!t)return e;if(-1==e.indexOf(c.VENDOR_PREFIX))return h(e);e=e.replace(c.VENDOR_PREFIX,"")}var i=c.VENDOR_PREFIX+e.charAt(0).toUpperCase()+e.slice(1);return"undefined"!=typeof document.body.style[i]?t?"-"+h(i):i:"float"==e&&"undefined"!=document.body.style.cssFloat?"cssFloat":void 0}function o(e,t){var n=new Object;for(var i in e)n[a(i,t)]=e[i];return n}function h(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}dm.EventTarget.call(this);var c=this;this.id=t,this.className=n,this.style=i,this.parent=null,this.isSelectable=!0,this.isFullscreen=!1,this.element=null,this.children=new Array,this.transitions=new Object,this.addChild=function(e){return this.children.push(e),e.setParent(this),e},this.addChildAt=function(e,t){return this.addChild(e),this.setChildIndex(e,t),e},this.removeChild=function(e){return this.children.splice(this.children.indexOf(e),1),e.setParent(null),e},this.createElement=function(e){if(e){"string"==typeof e?(this.element=document.createElement("div"),this.element.innerHTML=e,this.element=this.element.firstChild):this.element=e,this.parent=this.element.parentElement,this.setId(this.id||this.element.id),this.style?this.setStyle(this.style):this.style=this.element.style;var t=this.className;this.className=this.getClassNames().join(" "),this.addClassName(t||""),r()}},this.appendToElement=function(e){e.appendChild(this.element)},this.setStyle=function(e,t){if(e){t=void 0==t?!0:t;for(var n in e){var i=t?a(n):n;i&&(this.element.style[i]=null==e[n]?"":e[n])}this.style=this.element.style}},this.setId=function(e){this.id=e&&""!=e?e:null,this.element&&(this.id?this.element.id=this.id:this.element.removeAttribute("id"))},this.setClassName=function(e){this.className=e&&""!=e?e:null,this.className?this.element.setAttribute("class",this.className):this.element.removeAttribute("class"),this.updateTransitionString()},this.addClassName=function(e){if(!(!e||""==e||this.className&&this.hasClassName(e))){var t=this.className&&""!=this.className?this.className+" ":"";this.setClassName(t+e)}},this.toggleClassName=function(e){var t=this.getClassNames(),n=t.indexOf(e);-1!=n?t.splice(n,1):t.push(e),this.setClassName(t.join(" "))},this.removeClassName=function(e){if(this.className){var t=this.getClassNames(),n=t.indexOf(e);-1!=n&&(t.splice(n,1),this.setClassName(t.join(" ")))}},this.setParent=function(e){e?e.element!=this.element.parentElement&&e.element.appendChild(this.element):this.parent&&this.parent.element.removeChild(this.element),this.parent=e},this.setIndex=function(e){if(this.parent){var t=this.parent.children;if(0>e&&(e=t.length<=-e?0:t.length+e),t.length<e&&(e=t.length-1),this.parent.isDisplayObject)this.parent.setChildIndex(this,e);else{var n=this.getIndex(),i=n>e?this.parent.children[e]:this.parent.children[e+1];this.parent.insertBefore(i)}}},this.setChildIndex=function(e,t){var n=this.getChildIndex(e);if(n!=t&&e.isDisplayObject){var i=n>t?this.children[t]:this.children[t+1];this.children.splice(n,1),this.children.splice(t,0,e),i?this.element.insertBefore(e.element,i.element):this.element.appendChild(e.element)}},this.setPointer=function(e){e?this.setStyle({cursor:"pointer"}):this.setStyle({cursor:null})},this.setPointerEvents=function(e,t){e?t?this.setStyle({pointerEvents:"all"}):this.setStyle({pointerEvents:null}):this.setStyle({pointerEvents:"none"})},this.setSelectable=function(e){this.isSelectable=e,e?this.setStyle({userSelect:null}):this.setStyle({userSelect:"none"})},this.setVisible=function(e){e?this.setStyle({display:null}):this.setStyle({display:"none"})},this.toggleFullscreen=function(){this.isFullscreen?this.cancelFullscreen():this.requestFullscreen()},this.requestFullscreen=function(){this.isFullscreen=!0,this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen&&this.element.webkitRequestFullscreen(),document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l)},this.cancelFullscreen=function(){this.isFullscreen=!1,this.element.cancelFullscreen?this.element.cancelFullscreen():this.element.mozCancelFullScreen?this.element.mozCancelFullScreen():this.element.webkitCancelFullScreen&&this.element.webkitCancelFullScreen()},this.transitionFrom=function(e,t,n,i,r,s){this.setStyle(e),setTimeout(function(){c.transition(t,n,i,r,s)},50)},this.transition=function(e,t,n,i,r,s){if(0!=t){e=o(e);var l,h,u=new Array,d=!1,p=a("transition");for(h in e)l=String(e[h]),this.style[h]==l||this.getComputetStyleProperty(h)==l?delete e[h]:(d=!0,u.push(h));return!d&&r?void r.call(s||this):void(u.length&&(p&&this.addTransitions(1,u,t,n,i,r,s,!0),setTimeout(function(){c.setStyle(e),!p&&r&&r.call(s||this)},Number.MIN_VALUE)))}},this.addTransition=function(e,t,n,i,r,s,l,o,h){if(e=e||0,this.transitions[e]||(this.transitions[e]=new Object),o||!this.transitions[e][t]){h=0==h?!1:!0,i=i||"ease",t=a(t,!0);var c=t+" "+(n||0)+"s"+(void 0!=r||"ease"!=i?" "+i:"")+(void 0!=r?" "+r+"s":"");return this.transitions[e][t]=new Object,this.transitions[e][t][0]=c,this.transitions[e][t][1]=s,this.transitions[e][t][2]=l,h&&this.updateTransitionString(),c}},this.addTransitions=function(e,t,n,i,r,s,l,o,h){h=0==h?!1:!0;for(var c,u,d,p=!(!n||"number"==typeof n),m=!(!i||"string"==typeof i),f=!(!r||"number"==typeof r),g=new Array,v=0;v<t.length;v++)u=this.transitions[e||0],d=a(t[v],!0),!o&&u&&u[d]||(c=this.addTransition(e,d,p?n[v]:n,m?i[v]:i,f?r[v]:r,0===v?s:null,0===v?l:null,o,!1),g.push(c));return h&&this.updateTransitionString(),g},this.updateTransition=function(e,t,n,i,r){e=e||0;var s=this.transitions[e];if(s){t=a(t,!0);var l=s[t][0];if(l){l=l.split(" ");for(var o=1;4>o;o++)1==o&&void 0!==n&&(l[1]=n+"s"),2==o&&i&&(l[2]=i),3==o&&void 0!==r&&(l[3]=r+"s");s[t][0]=l.join(" "),this.updateTransitionString()}}},this.updateTransitionString=function(){var e,t,n,i,r="",l=a("transition");for(n in this.transitions[1]){i=!0;break}if(e=i?dm.Utils.Object.clone(this.transitions[1]):dm.Utils.Object.clone(this.transitions[0]),this.className){var o,h;if(t=0,e||(e=new Object),this.transitions[0]&&i)for(n in this.transitions[0])e[n]||(e[n]=this.transitions[0][n]);var c=this.getClassNames();for(t=0;t<c.length;t++)if(o=c[t],h=this.transitions[o])for(n in h)e[n]=h[n]}t=0;for(n in e)l?(0!=t&&(r+=", "),r+=e[n][0],t++):s({target:this.element,propertyName:n});l&&this.setStyle({transition:""==r?null:r})},this.removeTransition=function(e,t,n){if(void 0!==t)delete this.transitions[t||0][e];else for(t in this.transitions)delete c.transitions[t][e];this.updateTransitionString(),n&&setTimeout(function(){c.setStyle(n)},Number.MIN_VALUE)},this.getTransition=function(e,t){if(t)return this.transitions[t||0][e];var n=this.getClassNames();n.unshift(0),n.push(1);for(var i,r,s=0;s<n.length;s++)i=c.transitions[n[s]],i&&i[e]&&(r=i[e]);return r},this.getComputetStyleProperty=function(e,t){var n=window.getComputedStyle(this.element,null).getPropertyValue(e);return t?Number(n.replace("px","")):n},this.getClassNames=function(){if(!this.element.className)return new Array;if(this.element.className.split)return this.element.className.split(" ");if(this.element.className.baseVal)return this.element.className.baseVal.split(" ");var e=this.element.classList;if(e){for(var t=new Array,n=0;n<e.length;n++)t.push(e[n]);return t}return new Array},this.getIndex=function(){var e;if(this.parent.isDisplayObject)e=this.parent.getChildIndex(this);else{e=0;for(var t=this.element;null!=(t=t.previousSibling);)e++}return e},this.isVisible=function(){return!("none"===this.getComputetStyleProperty("display"))},this.hasClassName=function(e){return-1!=this.getClassNames().indexOf(e)},this.getChildIndex=function(e){return this.children.indexOf(e)},this.getStyleProperty=function(e){return this.style[e]},this.getChildren=function(){return this.children},this.getId=function(){return this.element.id},this.getStyle=function(){return this.style},this.getClassName=function(){return this.className},this.getElement=function(){return this.element},this.getParent=function(){return this.parent},this.getWidth=function(){return this.element.offsetWidth},this.getHeight=function(){return this.element.offsetHeight},this.getIsSelectable=function(){return this.isSelectable},this.getIsFullscreen=function(){return this.isFullscreen},this.createElement(e),this.isDisplayObject=!0},dm.HTMLElement.prototype=Object.create(dm.EventTarget.prototype),dm.HTMLElement.prototype.ATTRIBUTE_REGEX=/\-([a-z])/gi,document.addEventListener("DOMContentLoaded",function(){dm.HTMLElement.prototype.VENDOR_PREFIX=function(){var e=/^(Moz|Webkit|webkit|Khtml|O|ms|Icab)(?=[A-Z])/,t="";for(var n in document.body.style)if(e.test(n))return t=n.match(e)[0];e=/(moz|webkit|ms)/;var i,r,s=window.getComputedStyle(document.documentElement,"");for(i=0;i<s.length;i++)if(r=s[i],e.test(r))return r.match(e)[0]}()}),dm.HTMLCanvasElement=function(e,t,n){function i(e){var t=e.indexOf("<svg"),n=e.lastIndexOf("/svg>");return e=e.substring(t,n+5),e=e.replace(/NS[0-9]+:ns[0-9]+:xmlns:ns[0-9]+=\"\"/g,""),e=e.replace(/NS[0-9]+:xmlns:ns[0-9]+=\"\"/g,""),e=e.replace(/xmlns:NS[0-9]+=\"\"/g,""),e=e.replace(/NS[0-9]+:xmlns:xml=\"http:\/\/www.w3.org\/XML\/[0-9]+\/namespace\"/g,""),e=e.replace(/xmlns:xml=\"http:\/\/www.w3.org\/XML\/[0-9]+\/namespace\"/g,""),e=e.replace(/NS[0-9]+(:ns[0-9]+)+:/g,""),e=e.replace(/NS1:xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\"/,'xmlns:xlink="http://www.w3.org/1999/xlink"'),e=e.replace(/xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" xlink:href/g,"xlink:href")}function r(e){var t=e.cloneNode();t.style.display="block",t.style.height="auto",t.textContent="",e.parentElement.appendChild(t);var n=t.offsetHeight;t.textContent="M\ng";var i=t.offsetHeight-n;return e.parentElement.removeChild(t),i}function s(e,t,n){var i=e.offsetWidth;return p.useDevicePixelRatio&&window.devicePixelRatio&&(i*=window.devicePixelRatio),Math.floor(i)}function l(e,t,n){var i=e.offsetHeight;return p.useDevicePixelRatio&&window.devicePixelRatio&&(i*=window.devicePixelRatio),Math.floor(i)}function a(e,t,n,i,r){var s=e.getPropertyValue("border-top-width"),l=e.getPropertyValue("border-bottom-width"),a=e.getPropertyValue("border-left-width"),o=e.getPropertyValue("border-right-width");i||e.getPropertyValue("border-top-color"),i||e.getPropertyValue("border-bottom-color"),i||e.getPropertyValue("border-left-color"),i||e.getPropertyValue("border-right-color");s=Number(s.replace("px","")),l=Number(l.replace("px","")),a=Number(a.replace("px","")),o=Number(o.replace("px","")),(0!==s||0!==l||0!==a||0!==o)&&(p.context.save(),p.context.globalAlpha=r,p.context.beginPath(),0!==s&&(p.context.lineWidth=2*s,p.context.moveTo(0,0),p.context.lineTo(t,0)),0!==l&&(p.context.lineWidth=2*l,p.context.moveTo(0,n),p.context.lineTo(t,n)),0!==a&&(p.context.lineWidth=2*a,p.context.moveTo(0,0),p.context.lineTo(0,n)),0!==o&&(p.context.lineWidth=2*o,p.context.moveTo(t,0),p.context.lineTo(t,n)),p.context.stroke(),p.context.restore())}function o(e,t,n,i){var r=e.getPropertyValue("background-color");-1==r.indexOf("0)")&&(p.context.save(),p.context.globalAlpha=i,p.context.setTransform(1,0,0,1,0,0),p.context.fillStyle=r,p.context.fillRect(0,0,t,n),p.context.restore())}function h(e,t,n,i,r){var s=t.getPropertyValue("background-repeat"),l=t.getPropertyValue("background-position-x"),a=t.getPropertyValue("background-position-y");l=Number(l.replace("px","")),a=Number(a.replace("px","")),p.context.save();var o=p.context.createPattern(e,s);p.context.globalAlpha=r,p.context.setTransform(1,0,0,1,0,0),p.context.translate(l,a),p.context.fillStyle=o,p.context.fillRect(-l,-a,n+l,i+a),p.context.restore()}function c(e,t,n,i,r,h,c){var u=n.getPropertyValue("border-top-width"),d=n.getPropertyValue("border-bottom-width"),m=n.getPropertyValue("border-left-width"),f=n.getPropertyValue("border-right-width"),g=n.getPropertyValue("padding-top"),v=n.getPropertyValue("padding-bottom"),y=n.getPropertyValue("padding-left"),x=n.getPropertyValue("padding-right"),b=s(t,n,!0),w=l(t,n,!0);g=Number(g.replace("px","")),v=Number(v.replace("px","")),y=Number(y.replace("px","")),x=Number(x.replace("px","")),u=Number(u.replace("px","")),d=Number(d.replace("px","")),m=Number(m.replace("px","")),f=Number(f.replace("px","")),c&&p.setSize(b,w),o(n,b,w,h),a(n,b,w,null,h),b-=y+x+m+f,w-=y+x+u+d,i+=y+m,r+=g+u,p.context.save(),p.context.globalAlpha=h,p.context.setTransform(1,0,0,1,0,0),p.context.drawImage(e,i,r,b,w),p.context.restore()}function u(e){var t=window.getComputedStyle(e,null),n="IMG"==e.nodeName;p.setSize(s(e,t,n),l(e,t,n))}function d(e,t){var n,i,r=t||new Array,s=r.length,l=e.children;for(n=0;n<l.length;n++)i=l[n],i.childElementCount?(d(i,r),r.length==s&&r.push(i)):"BR"!=i.nodeName&&r.push(i);return r}dm.HTMLElement.call(this,e),this.canvas=t||document.createElement("canvas"),this.context=this.canvas.getContext("2d");var p=this,m=navigator.userAgent,f=!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(m)&&/Chrome/i.test(m);f=!1,this.autoSize=n!==!1,this.useDevicePixelRatio=!1,this.addDOMElement=function(e,t,n,i,r,s){if(void 0!==e.childElementCount){s=void 0===s?this.autoSize:s,t=t||0,n=n||0,s&&u(e);var l;if(e.childElementCount){l=d(e);var a,o,h,c;for(a=0;a<l.length;a++)o=l[a],h=e.getBoundingClientRect(),c=o.getBoundingClientRect(),this.addDOMElement(o,c.left-h.left+t,c.top-h.top+n,i,r,!1)}else l={length:0};if(!l.length)switch(e.nodeName){case"SVG":this.addSvgElement(e,t,n,i,r,s);break;case"IMG":this.addImage(e,t,n,r,s);break;default:this.addElement(e,t,n,i,r,s)}}},this.addImage=function(e,t,n,i,r){t=t||0,n=n||0,i=void 0===i?1:i,r=void 0===r?this.autoSize:r;var s=window.getComputedStyle(e,null),l=new Image;l.onload=function(){c(l,e,s,t,n,i,r),p.dispatchEvent(new dm.Event("load")),p.dispatchEvent(new dm.Event("update"))},l.src=dm.Utils.Image.getSrcset(e)},this.addSvgElement=function(e,t,n,r){r=void 0===r?this.autoSize:r,r&&u(e),canvg(this.canvas,i(e.innerHTML),{ignoreMouse:!0,offsetX:t,offsetY:n}),p.dispatchEvent(new dm.Event("update"))},this.addElement=function(e,t,n,i,c,u){var d=window.getComputedStyle(e,null);t=t||0,n=n||0,c=void 0===c?1:c,u=void 0===u?this.autoSize:u;var m=d.getPropertyValue("text-align"),g=d.getPropertyValue("white-space"),v=d.getPropertyValue("font-family"),y=d.getPropertyValue("font-size"),x=d.getPropertyValue("font-style"),b=d.getPropertyValue("line-height"),w=d.getPropertyValue("letter-spacing"),E=d.getPropertyValue("border-top-width"),S=d.getPropertyValue("border-left-width"),N=d.getPropertyValue("border-right-width"),C=d.getPropertyValue("padding-top"),P=d.getPropertyValue("padding-left"),T=d.getPropertyValue("padding-right"),F=d.getPropertyValue("background-image"),O=s(e,d),V=l(e,d);f&&(e.parentElement&&e.parentElement.appendChild(this.canvas),this.canvas.style.letterSpacing=w),y=Number(y.replace("px","")),b="normal"===b?r(e):Number(b.replace("px","")),w=f||"normal"===w?0:Number(w.replace("px","")),C=Number(C.replace("px","")),P=Number(P.replace("px","")),T=Number(T.replace("px","")),E=Number(E.replace("px","")),S=Number(S.replace("px","")),N=Number(N.replace("px","")),u&&this.setSize(O,V),t+="center"===m?O/2:"right"===m?O-T-N:P+S,n+=C+E;var k="";if("INPUT"!=e.nodeName&&"nowrap"!==g){var I=e.cloneNode();I.style.whiteSpace="nowrap",e.parentElement.appendChild(I);var M=e.scrollWidth;I.textContent="",I.value&&(I.value="");var A,R,j,L,D=e.textContent||e.value,U=D?D.split("\n"):[];for(A=0;A<U.length;A++){for(I.textContent="",j=U[A].split(" "),R=0;R<j.length;R++)L=j[R],line=I.textContent,I.textContent+=L,R!=j.length-1&&(I.textContent+=" "),I.scrollWidth>M&&(k+=line+"\n",I.textContent=L+" ");j.length&&(k+=I.textContent),A!=U.length-1&&(k+="\n")}e.parentElement.removeChild(I)}else k=e.textContent||e.value;if(o(d,O,V,c),a(d,O,V,i,c),i=i||d.getPropertyValue("color"),this.context.globalAlpha=c,"none"!=F){var z,H;z=-1!=F.indexOf('url("')?F.substring(0,F.length-2).replace('url("',""):F.substring(0,F.length-1).replace("url(","");var H=new Image;H.onload=function(){h(H,d,O,V,c),p.dispatchEvent(new dm.Event("load")),p.addText(k,m,v,y,x,i,b,w,t,n)},H.src=z}else this.addText(k,m,v,y,x,i,b,w,t,n);f&&(e.parentElement&&e.parentElement.removeChild(this.canvas),this.canvas.style.letterSpacing=null),this.context.globalAlpha=1},this.addText=function(e,t,n,i,r,s,l,a,o,h){n=n||"'serif'",t=t||"left",i=i||16,r=r||"normal",s=s||"#000000",l=l||i,this.context.save(),this.context.font=r+" "+i+"px "+n,this.context.fillStyle=s,this.context.translate(o||0,h||0),this.context.translate(0,(i+l)/2),this.context.textAlign=t,this.context.lineWidth=1,this.context.strokeStyle=s;var c,u=e.split("\n");for(c=0;c<u.length;c++)this.addTextLine(u[c],0,c*l,a,!1,!1);this.context.restore(),p.dispatchEvent(new dm.Event("update"))},this.addTextLine=function(e,t,n,i,r,s){if("normal"===i||0===i)return void this.context.strokeText(e,t,n);if(e&&"string"==typeof e&&0!==e.length){i||(i=0),r=r!==!1,s=s!==!1;var l,a=e.split(""),o=0,h=t,c=1;if(r&&this.context.save(),"right"===this.context.textAlign)a=a.reverse(),c=-1;else if("center"===this.context.textAlign){for(var u=0,d=0;d<a.length;d++)u+=this.context.measureText(a[d]).width,d!=a.length-1&&(u+=i);h=t-u/2}for(;o<e.length;)l=a[o++],this.context.strokeText(l,h,n),h+=c*(this.context.measureText(l).width+i);r&&this.context.restore(),s&&p.dispatchEvent(new dm.Event("update"))}},this.setSize=function(e,t){if(e!=this.canvas.width||t!=this.canvas.height){this.canvas.width=e,this.canvas.height=t;var n=1;this.useDevicePixelRatio&&window.devicePixelRatio&&(n=1/window.devicePixelRatio),this.dispatchEvent(new dm.Event("resize",{width:e*n,height:t*n}))}},this.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},dm.HTMLCanvasElement.prototype=Object.create(dm.HTMLElement.prototype),dm.Utils=new Object,dm.Math={random:function(e,t,n){return n=n||0,Number((Math.random()*(t-e)).toFixed(n))+e},percentage:function(e,t){return t/(e/100)},interpolate:function(e,t,n){return e+(t-e)*n},interpolate2:function(e,t,n){return(1-n)*e+n*t},distance:function(e,t,n,i){var r=0,s=0;return r=n-e,r*=r,s=i-t,s*=s,Math.sqrt(r+s)},angle:function(e,t,n,i){var r=180*Math.atan2(i-t,n-e)/Math.PI;return 0>r?r+360:r},percSin:function(e,t,n,i){return t=1/t||1,n=n||0,i=10*i||100,Math.round(Math.sin((n+e)*(Math.PI/2*t))*i)/i}},dm.Utils.Color={hsv2rgb:function(e,t,n){var i,r,s=[];if(0===t)i=[n,n,n];else switch(e/=60,r=Math.floor(e),s=[n*(1-t),n*(1-t*(e-r)),n*(1-t*(1-(e-r)))],r){case 0:i=[n,s[2],s[0]];break;case 1:i=[s[1],n,s[0]];break;case 2:i=[s[0],n,s[2]];break;case 3:i=[s[0],s[1],n];break;case 4:i=[s[2],s[0],n];break;default:i=[n,s[0],s[1]]}for(r=0;r<i.length;r++)i[r]=Math.round(255*i[r]);return i},hsv2hex:function(e,t,n){var i=hsv2rgb(e,t,n);return"#"+i.map(function(e){return("0"+e.toString(16)).slice(-2)}).join("")},rgbToHex:function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1,7)},hexToRgb:function(e){var t=parseInt(e,16),n=t>>16&255,i=t>>8&255,r=255&t;return[n,i,r]}},dm.Utils.Date={convert:function(e,t){var n=new Date(e.replace(/-/g,"/")),i=n.getDate();10>i&&(i="0"+i);var r=n.getMonth()+1;10>r&&(r="0"+r);var s=n.getHours();10>s&&(s="0"+s);var l=n.getMinutes();return 10>l&&(l="0"+l),t?(t=t.replace("d",i),t=t.replace("m",r),t=t.replace("Y",n.getFullYear()),t=t.replace("H",s),t.replace("i",l)):i+"."+r+"."+n.getFullYear()+"; "+s+":"+l}},dm.Utils.Draw={getGap:function(e,t,n,i,r,s){r=r||3,s=s||250;var l=new Array;l.push({x:e,y:t});var a=n-e,o=i-t,h=Math.sqrt(Math.pow(a,2)+Math.pow(o,2));if(h>r&&s>h){var c;for(c=1;h/r+1>c;c++)l.push({x:e+a/(h/r)*c,y:t+o/(h/r)*c})}return l}},dm.Utils.Object={clone:function(e){if(null===e||"object"!=typeof e)return e;var t=new e.constructor;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},merge:function(e,t,n){n&&(e=dm.Utils.Object.clone(e));for(var i in t)e[i]=t[i];return e},toQueryString:function(e){for(var t=Object.keys(e),n="",i=0;i<t.length;i++)n+=t[i]+"="+encodeURIComponent(e[t[i]]),i!=t.length-1&&(n+="&");return n}},dm.Utils.Image={getSrcset:function(e){var t=e.src;if(e.srcset){var n,i,r,s,l,a,o=window.innerWidth||document.documentElement.clientWidth,h=window.innerHeight||document.documentElement.clientHeight,c=window.devicePixelRatio||1,u=e.srcset.split(","),d=o/c,p=h/c;for(n=0;n<u.length;n++)i=u[n].split(" "),2==i.length&&(s=c,l=0,a=0,r=i[1],"x"==r.slice(-1)&&(s=Number(r.slice(0,-1)),s==c&&(t=i[0])),"w"==r.slice(-1)&&(l=Number(r.slice(0,-1)),l/=c,d>=l&&(t=i[0])),"h"==r.slice(-1)&&(a=Number(r.slice(0,-1)),a/=c,p>=s&&(t=i[0])))}return t}},dm.Utils.Form={setFormDisabled:function(e,t){var n,i=e.querySelectorAll("input, textarea, select, option, button");for(n=0;n<i.length;n++)i[n].disabled=t},resetForm:function(e){var t,n,i=e.querySelectorAll('input:not([type="submit"]), textarea, select, option');for(t=0;t<i.length;t++)switch(n=i[t],n.type){case"checkbox":n.checked=!1;break;default:n.value=""}},getFormValue:function(e){switch(e.type){case"checkbox":return e.name.indexOf(!0)?e.checked?e.value:!1:e.checked?1:0;default:return e.value}},getFormDataQuery:function(e){var t,n,i,r=new Array,s=e.querySelectorAll('input:not([type="submit"]), textarea, select, option');for(t=0;t<s.length;t++)n=s[t],i=dm.Utils.Form.getFormValue(n),i!==!1&&r.push(n.name+"="+encodeURIComponent(i));return r.join("&")},toQueryString:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},getMultiPartFormData:function(e,t,n){var i,r,s="",l=e.querySelectorAll('input:not([type="submit"]), textarea, select, option');for(i=0;i<l.length;i++)r=l[i],""===r.value;return s+="--"+t+"--"},getFormData:function(e){var t,n,i=new Object,r=e.querySelectorAll('input:not([type="submit"]), textarea, select, option');for(t=0;t<r.length;t++)n=r[t],i[n.name]=dm.Utils.Form.getFormValue(n);return i},validateEmail:function(e){var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return t.test(e)}},dm.Utils.CSS={getFontFaces:function(){var e,t,n,i=document.styleSheets,r=new Array;for(e=0;e<i.length;e+=1){var s=i[e].cssRules;for(t=0;t<s.length;t+=1)s[t].constructor===CSSFontFaceRule&&(n=s[t].style.getPropertyValue("font-family").replace(/'|"/g,""),-1==r.indexOf(n)&&r.push(n))}return r}};